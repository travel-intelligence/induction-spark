# https://docs.gitlab.com/runner/executors/docker.html
# This file is a template, and might need editing before it works on your project.
# Official images to be found on https://hub.docker.com/u/library/?page=2
# For instance:
# - https://hub.docker.com/_/java/ - Official Java image
# - https://hub.docker.com/_/centos/ - Official CentOS image
image: library/centos:7
#image: java:7

before_script:
  # Update the system
  - rpm --import http://mirror.centos.org/centos/RPM-GPG-KEY-CentOS-7
  - yum -y update
  - yum -y install epel-release
  # Install Java
  - yum -y install curl wget java-1.8.0-openjdk-devel
  # Install SBT
  - wget https://bintray.com/sbt/rpm/rpm -O /etc/yum.repos.d/bintray-sbt-rpm.repo
  - rpm --import "http://dl.bintray.com/sbt/rpm/repodata/repomd.xml.key"
  - yum -y install sbt
  # Log the sbt version
  - sbt sbt-version

test:
  script:
    # Execute the test
    #- sbt clean test
    - sbt compile

